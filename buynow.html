<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Buy Now | Trivantage</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Razorpay -->
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>

<style>
body{
  background:#f5f7fa;
  font-family:Segoe UI,sans-serif;
}
.card{
  border-radius:16px;
  box-shadow:0 10px 30px rgba(0,0,0,.1);
}
.price{
  font-size:28px;
  font-weight:700;
  color:#0d6efd;
}
.small-text{
  font-size:13px;
  color:#6c757d;
}
.product-img{
  max-height:220px;
  object-fit:contain;
}
</style>
</head>

<body>

<nav class="navbar navbar-dark bg-dark">
  <div class="container">
    <span class="navbar-brand fw-bold">TRIVANTAGE | Secure Checkout</span>
  </div>
</nav>

<div class="container my-5">
<div class="row justify-content-center">

<div class="col-md-7">

<!-- ORDER SUMMARY -->
<div class="card p-4">

<h4 class="mb-3">Order Summary</h4>

<div class="text-center mb-4">
  <img id="productImage" class="img-fluid product-img rounded mb-3" alt="Product">
  <h5 class="fw-semibold" id="productName"></h5>
  <p class="price">â‚¹<span id="productPrice"></span></p>
</div>

<hr>

<!-- CUSTOMER DETAILS -->
<h5 class="mt-3">Customer Details</h5>

<input class="form-control mb-3" placeholder="Full Name" id="name" required>
<input class="form-control mb-3" placeholder="Email" id="email" required>
<input class="form-control mb-3" placeholder="Mobile Number" id="mobile" required>

<button class="btn btn-success w-100 py-2" onclick="payNow()">
Pay Securely
</button>

<p class="small-text text-center mt-3">
ðŸ”’ Secure payment via Razorpay (UPI / Card / NetBanking)
</p>

</div>

<!-- POLICIES -->
<div class="card p-3 mt-4">
<h6>GST & Invoice</h6>
<p class="small-text">
GST included. Invoice will be issued after successful payment.
</p>

<h6>Refund Policy</h6>
<p class="small-text">
Refund applicable only within 48 hours of order confirmation.
</p>
</div>

</div>
</div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
document.addEventListener("DOMContentLoaded", function () {

  let item = localStorage.getItem("buyNowItem");

  if(!item){
    alert("No product selected");
    window.location.href = "index.html";
    return;
  }

  item = JSON.parse(item);

  document.getElementById("productName").textContent = item.name;
  document.getElementById("productPrice").textContent = item.price;
  document.getElementById("productImage").src = item.image;

});
</script>
<script>
function payNow(){

  let name = document.getElementById("name").value;
  let email = document.getElementById("email").value;
  let mobile = document.getElementById("mobile").value;

  if(!name || !email || !mobile){
    alert("Please fill all customer details");
    return;
  }

  // Open modal
  let modal = new bootstrap.Modal(document.getElementById("scanModal"));
  modal.show();

  // Show success after 3 seconds
  setTimeout(() => {
    document.getElementById("successMsg").style.display = "block";
  }, 3000);
}
</script>



<!-- Scan & Pay Modal -->
<div class="modal fade" id="scanModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content text-center p-4">

      <h5 class="mb-3">Scan & Pay</h5>

      <!-- QR / Scan Image -->
      <img src="scan.png"
     alt="Scan QR"
     class="img-fluid d-block mx-auto mb-3"
     style="max-width:220px;">

      <p class="text-muted">Scan using any UPI app</p>

      <!-- Success Message -->
      <h6 id="successMsg" class="text-success mt-3" style="display:none;">
        âœ… You are paid successfully
      </h6>

    </div>
  </div>
</div>


</body>
</html>
