<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>My Wishlist | TRIVANTAGE</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<style>
body{
    background:#f5f7fa;
}

/* NAVBAR */
.navbar{
    box-shadow:0 2px 10px rgba(0,0,0,.08);
}

/* WISHLIST CARD */
.wish-card{
    border:none;
    border-radius:16px;
    box-shadow:0 8px 20px rgba(0,0,0,.06);
}

.wish-img{
    width:90px;
    height:90px;
    object-fit:cover;
    border-radius:14px;
}

/* EMPTY STATE */
.empty-wishlist{
    text-align:center;
    padding:80px 20px;
}

.empty-wishlist i{
    font-size:60px;
    color:#bbb;
}
</style>
</head>

<body>

<!-- NAVBAR -->
<nav class="navbar navbar-dark bg-dark fixed-top">
<div class="container-fluid">
<a class="navbar-brand fw-bold" href="index.html">
<i class="fa-solid fa-arrow-left me-2"></i> TRIVANTAGE
</a>
</div>
</nav>

<!-- CONTENT -->
<div class="container mt-5 pt-5">
<h3 class="fw-bold text-center mb-4">❤️ My Wishlist</h3>

<div id="wishlistItems" class="row g-4 justify-content-center"></div>
</div>

<script>
let wishlist = JSON.parse(localStorage.getItem("wishlist")) || [];
let cart = JSON.parse(localStorage.getItem("cart")) || [];
const box = document.getElementById("wishlistItems");

renderWishlist();

function renderWishlist(){
    box.innerHTML = "";

    if(wishlist.length === 0){
        box.innerHTML = `
        <div class="empty-wishlist">
            <i class="fa-regular fa-heart mb-3"></i>
            <h5>Your wishlist is empty</h5>
            <p class="text-muted">Save your favourite products here</p>
            <a href="index.html" class="btn btn-dark mt-3">
                Continue Shopping
            </a>
        </div>`;
        return;
    }

    wishlist.forEach((item,index)=>{
        box.innerHTML += `
        <div class="col-lg-6">
        <div class="card wish-card">
        <div class="card-body d-flex gap-3 align-items-center">

            <img src="${item.image}" class="wish-img">

            <div class="flex-grow-1">
                <h6 class="fw-bold mb-1">${item.name}</h6>
                <p class="text-muted mb-1">₹ ${item.price}</p>

                <div class="d-flex gap-2 mt-2">
                    <button class="btn btn-sm btn-outline-dark" onclick="moveToCart(${index})">
                        <i class="fa-solid fa-cart-plus me-1"></i> Add to Cart
                    </button>

                    <button class="btn btn-sm btn-outline-danger" onclick="removeWish(${index})">
                        <i class="fa-solid fa-trash"></i>
                    </button>
                </div>
            </div>

        </div>
        </div>
        </div>
        `;
    });
}

function removeWish(index){
    wishlist.splice(index,1);
    localStorage.setItem("wishlist", JSON.stringify(wishlist));
    renderWishlist();
}

function moveToCart(index){
    const item = wishlist[index];
    cart.push({...item, qty:1});
    localStorage.setItem("cart", JSON.stringify(cart));

    wishlist.splice(index,1);
    localStorage.setItem("wishlist", JSON.stringify(wishlist));

    renderWishlist();
    alert("✅ Item moved to cart");
}
</script>

</body>
</html>
